2024-11-12 12:13:09,922 INFO: Redirecting to: /dashboard?new_report=4 [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:825]
2024-11-12 12:14:57,340 INFO: Starting /process_url endpoint [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:768]
2024-11-12 12:14:57,340 INFO: Received request data: {'url': 'https://www.youtube.com/@LBCOfficial'} [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:772]
2024-11-12 12:14:57,340 INFO: Processing URL: https://www.youtube.com/@LBCOfficial [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:780]
2024-11-12 12:14:58,000 INFO: Attempting to extract channel ID [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:789]
2024-11-12 12:14:58,416 INFO: Channel ID extraction result: UCb1Ti1WKPauPpXkYKVHNpsw [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:791]
2024-11-12 12:14:58,417 INFO: Processing URL as channel, Channel ID: UCb1Ti1WKPauPpXkYKVHNpsw [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:794]
2024-11-12 12:14:58,429 INFO: Existing report found: False [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:799]
2024-11-12 12:14:58,430 INFO: Fetching channel data for new report [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:836]
2024-11-12 12:15:33,129 INFO: Channel title: LBC [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:846]
2024-11-12 12:15:33,129 INFO: Generating channel report [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:849]
2024-11-12 12:15:34,231 ERROR: Failed to generate channel report [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:854]
2024-11-12 12:17:28,073 INFO: Starting /process_url endpoint [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:768]
2024-11-12 12:17:28,073 INFO: Received request data: {'url': 'https://www.youtube.com/@Nickelodeon'} [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:772]
2024-11-12 12:17:28,073 INFO: Processing URL: https://www.youtube.com/@Nickelodeon [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:780]
2024-11-12 12:17:28,787 INFO: Attempting to extract channel ID [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:789]
2024-11-12 12:17:29,039 INFO: Channel ID extraction result: UC5M_h2S8Ldoc9M6f7B-_m6A [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:791]
2024-11-12 12:17:29,039 INFO: Processing URL as channel, Channel ID: UC5M_h2S8Ldoc9M6f7B-_m6A [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:794]
2024-11-12 12:17:29,043 INFO: Existing report found: False [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:799]
2024-11-12 12:17:29,043 INFO: Fetching channel data for new report [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:836]
2024-11-12 12:17:48,957 INFO: Channel title: Nickelodeon [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:846]
2024-11-12 12:17:48,957 INFO: Generating channel report [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:849]
2024-11-12 12:19:44,976 INFO: Parsing report data and creating database entries [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:858]
2024-11-12 12:19:45,007 INFO: New report created with ID: 12 [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:877]
2024-11-12 12:19:45,007 INFO: Redirecting to: /dashboard?new_report=12 [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:880]
2024-11-12 12:19:45,007 ERROR: Error in process_url: local variable 'existing_summary' referenced before assignment [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:1008]
Traceback (most recent call last):
  File "/Users/chrisbeaumont/Projects/YouTubeReports/app.py", line 998, in generate
    'new_content': not (existing_report or existing_summary)
UnboundLocalError: local variable 'existing_summary' referenced before assignment
2024-11-12 12:23:17,164 INFO: Lumina startup [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:59]
2024-11-12 12:23:34,668 INFO: Starting /process_url endpoint [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:768]
2024-11-12 12:23:34,670 INFO: Received request data: {'url': 'https://www.youtube.com/watch?v=gC5hAAvhClE'} [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:772]
2024-11-12 12:23:34,670 INFO: Processing URL: https://www.youtube.com/watch?v=gC5hAAvhClE [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:780]
2024-11-12 12:23:34,670 INFO: Tracking event: {'client_id': 'server-side', 'events': [{'name': 'content_analysis_started', 'params': {'url_type': 'video'}}]} [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:308]
2024-11-12 12:23:34,837 INFO: Attempting to extract channel ID [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:789]
2024-11-12 12:23:34,839 INFO: Channel ID extraction result: None [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:791]
2024-11-12 12:23:34,839 INFO: Attempting to process as video URL [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:891]
2024-11-12 12:23:34,840 INFO: Video ID extraction result: gC5hAAvhClE [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:893]
2024-11-12 12:23:34,847 INFO: Existing summary found: False [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:904]
2024-11-12 12:23:34,848 INFO: Fetching video data for new summary [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:941]
2024-11-12 12:23:39,445 INFO: Video title: What Self-Esteem Is [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:952]
2024-11-12 12:23:39,445 INFO: Generating video summary [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:955]
2024-11-12 12:24:09,287 INFO: Successfully generated and parsed summary [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:961]
2024-11-12 12:24:09,316 INFO: New summary created with ID: 51 [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:981]
2024-11-12 12:24:09,316 INFO: Redirecting to: /dashboard?new_summary=51 [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:984]
2024-11-12 12:24:09,316 ERROR: Error in process_url: local variable 'existing_report' referenced before assignment [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:1008]
Traceback (most recent call last):
  File "/Users/chrisbeaumont/Projects/YouTubeReports/app.py", line 998, in generate
    'new_content': not (existing_report or existing_summary)
UnboundLocalError: local variable 'existing_report' referenced before assignment
2024-11-12 12:24:09,317 INFO: Tracking event: {'client_id': 'server-side', 'events': [{'name': 'content_analysis_failed', 'params': {'reason': 'exception', 'error_message': "local variable 'existing_report' referenced before assignment", 'processing_time': 34.64831590652466}}]} [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:308]
2024-11-12 12:24:57,658 INFO: Lumina startup [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:59]
2024-11-12 12:25:08,185 INFO: Starting /process_url endpoint [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:770]
2024-11-12 12:25:08,185 INFO: Received request data: {'url': 'https://www.youtube.com/watch?v=3tz2BUuzTmE'} [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:774]
2024-11-12 12:25:08,186 INFO: Processing URL: https://www.youtube.com/watch?v=3tz2BUuzTmE [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:782]
2024-11-12 12:25:08,186 INFO: Tracking event: {'client_id': 'server-side', 'events': [{'name': 'content_analysis_started', 'params': {'url_type': 'video'}}]} [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:308]
2024-11-12 12:25:08,351 INFO: Attempting to extract channel ID [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:791]
2024-11-12 12:25:08,352 INFO: Channel ID extraction result: None [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:793]
2024-11-12 12:25:08,352 INFO: Attempting to process as video URL [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:893]
2024-11-12 12:25:08,354 INFO: Video ID extraction result: 3tz2BUuzTmE [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:895]
2024-11-12 12:25:08,367 INFO: Existing summary found: False [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:906]
2024-11-12 12:25:08,367 INFO: Fetching video data for new summary [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:943]
2024-11-12 12:25:13,564 INFO: Video title: Exactly how Trump could ban abortion [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:954]
2024-11-12 12:25:13,564 INFO: Generating video summary [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:957]
2024-11-12 12:25:38,805 INFO: Successfully generated and parsed summary [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:963]
2024-11-12 12:25:38,845 INFO: New summary created with ID: 52 [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:983]
2024-11-12 12:25:38,845 INFO: Redirecting to: /dashboard?new_summary=52 [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:986]
2024-11-12 12:25:38,845 INFO: Tracking event: {'client_id': 'server-side', 'events': [{'name': 'content_analysis_completed', 'params': {'type': 'video', 'processing_time': 30.660189867019653, 'new_content': True}}]} [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:308]
2024-11-12 12:40:12,566 INFO: Initiating YouTube OAuth flow for user 6 [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:431]
2024-11-12 12:40:12,568 INFO: Redirect URI: http://localhost:5000/auth/youtube/callback [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:432]
2024-11-12 12:40:12,569 INFO: State parameter: L5QFoGvfgPOQYlOy9kpPmAlo5qpT9f [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:433]
2024-11-12 12:40:18,693 INFO: Starting OAuth callback processing [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:450]
2024-11-12 12:40:18,694 ERROR: Error in oauth2callback: (mismatching_state) CSRF Warning! State not equal in request and response. [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:491]
