2024-11-12 12:40:18,694 ERROR: Exception traceback:  [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:492]
Traceback (most recent call last):
  File "/Users/chrisbeaumont/Projects/YouTubeReports/app.py", line 461, in oauth2callback
    flow.fetch_token(authorization_response=authorization_response)
  File "/Users/chrisbeaumont/Projects/lumina/lib/python3.9/site-packages/google_auth_oauthlib/flow.py", line 285, in fetch_token
    return self.oauth2session.fetch_token(self.client_config["token_uri"], **kwargs)
  File "/Users/chrisbeaumont/Projects/lumina/lib/python3.9/site-packages/requests_oauthlib/oauth2_session.py", line 271, in fetch_token
    self._client.parse_request_uri_response(
  File "/Users/chrisbeaumont/Projects/lumina/lib/python3.9/site-packages/oauthlib/oauth2/rfc6749/clients/web_application.py", line 220, in parse_request_uri_response
    response = parse_authorization_code_response(uri, state=state)
  File "/Users/chrisbeaumont/Projects/lumina/lib/python3.9/site-packages/oauthlib/oauth2/rfc6749/parameters.py", line 278, in parse_authorization_code_response
    raise MismatchingStateError()
oauthlib.oauth2.rfc6749.errors.MismatchingStateError: (mismatching_state) CSRF Warning! State not equal in request and response.
2024-11-12 14:41:36,445 INFO: Starting /process_url endpoint [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:770]
2024-11-12 14:41:36,447 INFO: Received request data: {'url': 'https://www.youtube.com/watch?v=TEQmOUZahz4'} [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:774]
2024-11-12 14:41:36,447 INFO: Processing URL: https://www.youtube.com/watch?v=TEQmOUZahz4 [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:782]
2024-11-12 14:41:36,448 INFO: Tracking event: {'client_id': 'server-side', 'events': [{'name': 'content_analysis_started', 'params': {'url_type': 'video'}}]} [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:308]
2024-11-12 14:41:36,602 INFO: Attempting to extract channel ID [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:791]
2024-11-12 14:41:36,605 INFO: Channel ID extraction result: None [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:793]
2024-11-12 14:41:36,614 INFO: Attempting to process as video URL [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:893]
2024-11-12 14:41:36,615 INFO: Video ID extraction result: TEQmOUZahz4 [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:895]
2024-11-12 14:41:36,616 INFO: Existing summary found: False [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:906]
2024-11-12 14:41:36,616 INFO: Fetching video data for new summary [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:943]
2024-11-12 14:41:41,780 INFO: Video title: Why Do I Still Make YouTube Videos? [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:954]
2024-11-12 14:41:41,780 INFO: Generating video summary [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:957]
2024-11-12 14:42:01,124 INFO: Successfully generated and parsed summary [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:963]
2024-11-12 14:42:01,137 INFO: New summary created with ID: 53 [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:983]
2024-11-12 14:42:01,137 INFO: Redirecting to: /dashboard?new_summary=53 [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:986]
2024-11-12 14:42:01,146 INFO: Tracking event: {'client_id': 'server-side', 'events': [{'name': 'content_analysis_completed', 'params': {'type': 'video', 'processing_time': 24.700634241104126, 'new_content': True}}]} [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:308]
2024-11-12 14:42:23,340 INFO: Lumina startup [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:59]
2024-11-12 14:42:37,107 INFO: Starting /process_url endpoint [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:807]
2024-11-12 14:42:37,107 INFO: Received request data: {'url': 'https://www.youtube.com/watch?v=bQcL0t73O5Y'} [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:811]
2024-11-12 14:42:37,107 INFO: Processing URL: https://www.youtube.com/watch?v=bQcL0t73O5Y [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:819]
2024-11-12 14:42:37,108 INFO: Attempting to track GA event: content_analysis_started [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:288]
2024-11-12 14:42:37,303 ERROR: Failed to track GA event. Status code: 204 [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:321]
2024-11-12 14:42:37,303 ERROR: Response content:  [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:322]
2024-11-12 14:42:37,306 INFO: Attempting to extract channel ID [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:828]
2024-11-12 14:42:37,307 INFO: Channel ID extraction result: None [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:830]
2024-11-12 14:42:37,309 INFO: Attempting to process as video URL [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:930]
2024-11-12 14:42:37,310 INFO: Video ID extraction result: bQcL0t73O5Y [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:932]
2024-11-12 14:42:37,315 INFO: Existing summary found: False [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:943]
2024-11-12 14:42:37,315 INFO: Fetching video data for new summary [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:980]
2024-11-12 14:42:42,664 INFO: Video title: Project 2025: A Hellish Legal Vision For America ft. Liz Dye [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:991]
2024-11-12 14:42:42,664 INFO: Generating video summary [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:994]
2024-11-12 14:43:08,253 INFO: Successfully generated and parsed summary [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:1000]
2024-11-12 14:43:08,308 INFO: New summary created with ID: 54 [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:1020]
2024-11-12 14:43:08,309 INFO: Redirecting to: /dashboard?new_summary=54 [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:1023]
2024-11-12 14:43:08,309 INFO: Attempting to track GA event: content_analysis_completed [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:288]
2024-11-12 14:43:08,451 ERROR: Failed to track GA event. Status code: 204 [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:321]
2024-11-12 14:43:08,452 ERROR: Response content:  [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:322]
2024-11-12 14:45:59,880 INFO: Lumina startup [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:59]
2024-11-12 14:46:16,156 INFO: Starting /process_url endpoint [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:807]
2024-11-12 14:46:16,156 INFO: Received request data: {'url': 'https://www.youtube.com/watch?v=alNHhdWDfsY'} [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:811]
2024-11-12 14:46:16,156 INFO: Processing URL: https://www.youtube.com/watch?v=alNHhdWDfsY [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:819]
2024-11-12 14:46:16,157 INFO: Attempting to track GA event: content_analysis_started [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:288]
2024-11-12 14:46:16,317 INFO: Successfully tracked GA event: content_analysis_started [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:319]
2024-11-12 14:46:16,318 INFO: Attempting to extract channel ID [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:828]
2024-11-12 14:46:16,318 INFO: Channel ID extraction result: None [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:830]
2024-11-12 14:46:16,318 INFO: Attempting to process as video URL [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:930]
2024-11-12 14:46:16,318 INFO: Video ID extraction result: alNHhdWDfsY [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:932]
2024-11-12 14:46:16,334 INFO: Existing summary found: False [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:943]
2024-11-12 14:46:16,334 INFO: Fetching video data for new summary [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:980]
2024-11-12 14:46:21,651 INFO: Video title: Most Americans are wrong about crime [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:991]
2024-11-12 14:46:21,651 INFO: Generating video summary [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:994]
2024-11-12 14:46:44,773 INFO: Successfully generated and parsed summary [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:1000]
2024-11-12 14:46:44,815 INFO: New summary created with ID: 55 [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:1020]
2024-11-12 14:46:44,815 INFO: Redirecting to: /dashboard?new_summary=55 [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:1023]
2024-11-12 14:46:44,816 INFO: Attempting to track GA event: content_analysis_completed [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:288]
2024-11-12 14:46:44,964 INFO: Successfully tracked GA event: content_analysis_completed [in /Users/chrisbeaumont/Projects/YouTubeReports/app.py:319]
